<!doctype html><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]--><!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if IE 8]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class=no-js><!--<![endif]--><head><meta charset=utf-8><title>VMware &#183; davidstamen.com</title><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta property="og:type" content="website"><link rel=canonical href=https://davidstamen.com/categories/vmware/><link rel=apple-touch-icon-precomposed sizes=144x144 href=/touch-icon-144-precomposed.png><link rel=icon href=/favicon/favicon.ico><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6907288179836979",enable_page_level_ads:true});</script><!--[if lt IE 9]><script src=https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js></script><script src=https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js></script><![endif]--><script src=/js/clr-3.0/clr-icons.min.js></script><script src=/js/clr-3.0/custom-elements.min.js></script><link href=/css/clr-3.0/clr-ui.css rel=stylesheet><link href=/css/clr-3.0/clr-icons.min.css rel=stylesheet><link href=/css/custom.css rel=stylesheet><link rel=stylesheet href=/css/all.css></head><body data-ng-app=myapp data-ng-controller=MyController data-ng-mouseleave=MouseLeave($event)><div class=main-container><header class=header-2><div class=branding><a class=navbar-brand-img href=/><img alt src>
<span class=title>davidstamen.com</span></a></div><div class=header-nav [clr-nav-level]=1><a class="nav-link nav-text" href=https://davidstamen.com/ title=Home>Home</a>
<a class="nav-link nav-text" href=https://davidstamen.com/categories/pure-storage/ title="Pure Storage">Pure Storage</a>
<a class="nav-link active nav-text" href=https://davidstamen.com/categories/vmware/ title=VMware>VMware</a>
<a class="nav-link nav-text" href=https://davidstamen.com/tags/ title=Tags>Tags</a>
<a class="nav-link nav-text" href=https://davidstamen.com/series/ title=Series>Series</a>
<a class="nav-link nav-text" href=https://www.youracclaim.com/users/davidstamen title=Acclaim>Acclaim</a>
<a class="nav-link nav-text" href=https://davidstamen.com/about title=About>About</a></div><div class=header-actions><form class=search id=search method=get action=//google.com/search><label for=search_input><input id=search_input type=text name=q placeholder=Search>
<input type=hidden name=as_sitesearch value=davidstamen.com></label></form></div></header><div class=content-container><div class=content-area><h1>VMware</h1><div class=clr-row><div class=clr-col-12><div class=card><div class=card-header><a href=https://davidstamen.com/2017/04/17/using-powercli-to-set-vcenter-permissions-on-datacenter/>Using PowerCLI to Set vCenter Permissions on Datacenter</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors>Published on
April 17, 2017 under <a href=/categories/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:100px;min-height:100px;overflow:hidden><img src=/featured/powercli.png class=clr-card-featured-image>
I have been working on doing a vCenter Consolidation Project. This has meant recreating multiple permissions groups. I couldnt find an easy way to apply permissions at a datacenter so I updated this script to be used.
Pre-Requsites VMware PowerCLI Link to Script Set-vCenterPermissions.ps1 permissions.csv Preparing to Execute the Script The script is pretty straight forward, just need to update columns in the CSV such as Datacenter, Group and Role.</div></div><div class=card-footer>Tagged <a href=/tags/powercli>PowerCLI</a> and <a href=/tags/vcenter-server>vCenter Server</a></div></div></div><div class=clr-col-12><div class=card><div class=card-header><a href=https://davidstamen.com/2017/02/03/vsphere-65-updating-appliance-configured-with-vcenter-ha/>vSphere 6.5 - Updating Appliance configured with vCenter HA</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors>Published on
February 3, 2017 under <a href=/categories/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:100px;min-height:100px;overflow:hidden>Warning: A few others and myself have noticed that when updating a VCHA Cluster to 6.5U1 it resets the hostname to localhost.localdomain stopping vCenter Web Client from Loading. It seems to be isolated to Advanced Deployments and not Basic. I would recommend destroying your VCHA Cluster, updating, then redeploying in this scenario. Warning2: It also seems that if you try to redeploy VCHA Advanced after an upgrade, it still resets the hostname, I have a case opened and will update here as neccessary.</div></div><div class=card-footer>Tagged <a href=/tags/vcenter-server>vCenter Server</a>, <a href=/tags/vsphere-6.5>vSphere 6.5</a> and <a href=/tags/vcenter-ha>vCenter HA</a></div></div></div><div class=clr-col-12><div class=card><div class=card-header><a href=https://davidstamen.com/2017/02/01/vcenter-ha-health-degraded-due-to-password-expiration/>vSphere 6.5 - vCenter HA Health Degraded due to Password Expiration</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors>Published on
February 1, 2017 under <a href=/categories/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:100px;min-height:100px;overflow:hidden>One of my favorite new features of vSphere 6.5 is definately vCenter HA. I was checking out alerts when I noticed i had an alarm for vCenter HA being degraded.
Looking through the GUI, I was unable to find anything in regards to why the Health was a warning and why the components would not sync. Then I remembered a previous case I had opened for VCHA.
There is a log file located in /var/log/vmware/vcha</div></div><div class=card-footer>Tagged <a href=/tags/vcenter-ha>vCenter HA</a> and <a href=/tags/vsphere-6.5>vSphere 6.5</a></div></div></div><div class=clr-col-12><div class=card><div class=card-header><a href=https://davidstamen.com/2017/01/19/functional-branding-of-vsphere-web-client-logon-page/>Functional Branding of vSphere Web Client Logon Page</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors>Published on
January 19, 2017 under <a href=/categories/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:100px;min-height:100px;overflow:hidden>I had a use case I wanted to investigate in regards to the new VCHA that is part of VMware vCenter Server 6.5. One thing I noticed, is when you have VCHA configured, there is no way to know which node of the HA cluster you are connecting to without being logged on.
As people have noted before William Lam&amp;rsquo;s - How to Customize Webclient Login UI
I figured since I am using the embedded SSO, I could update the login page to show any information for that particular node.</div></div><div class=card-footer>Tagged <a href=/tags/webclient>Webclient</a> and <a href=/tags/vsphere-6.0>vSphere 6.0</a></div></div></div><div class=clr-col-12><div class=card><div class=card-header><a href=https://davidstamen.com/2016/12/29/using-the-vmware-content-libray-assistant-fling/>Using the VMware Content Libray Assistant Fling</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors>Published on
December 29, 2016 under <a href=/categories/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:100px;min-height:100px;overflow:hidden>So VMware Flings have been on a roll recently. They have released what they call “VMware Content Library Assistant.” This is a java based CLI app, that connects to your vCenter and searchers for your templates and then automatically creates and uploads them.
You can find the fling at the following URL… &lt;a href="https://labs.vmware.com/flings/vsphere-content-library-assistant">https://labs.vmware.com/flings/vsphere-content-library-assistant&lt;/a>)
Once you download the fling, you can just run the following command.
java -jar sphere-content-library-assistant-1.0.jar -s servername -u username -p password In my case my java home isn’t setup on my mac so I had to run the following command to get it to work.</div></div><div class=card-footer>Tagged <a href=/tags/content-library>Content Library</a> and <a href=/tags/vmware-fling>VMware Fling</a></div></div></div><div class=clr-col-12><div class=card><div class=card-header><a href=https://davidstamen.com/2016/11/21/vsphere-65-vcha-issues/>vSphere 6.5 - vCenter HA (VCHA) Issues</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors>Published on
November 21, 2016 under <a href=/categories/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:100px;min-height:100px;overflow:hidden>So as everyone has probably seen, vSphere 6.5 is now GA. One of the features i have been waiting for the most is vCenter HA. I have spent some time trying to get this working in my lab. Unfortunately after countless tries i was stuck. Thanks to folks in the vExpert Slack for helping me try to resolve this, but unfortunately this was a case for VMware Support.
Every time I would try to configure vCenter HA using the Advanced Wizard, I would get the following error.</div></div><div class=card-footer>Tagged <a href=/tags/vcenter-ha>vCenter HA</a> and <a href=/tags/availability>Availability</a></div></div></div><div class=clr-col-12><div class=card><div class=card-header><a href=https://davidstamen.com/2016/11/16/vsphere-65-new-license-import-from-myvmware/>vSphere 6.5 - New License Import from My VMware</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors>Published on
November 16, 2016 under <a href=/categories/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:100px;min-height:100px;overflow:hidden>So as everyone has probably seen, vSphere 6.5 is now GA. As usual right away I have upgraded the homelab and have already found a neat new feature.
When you are adding in your VMware licenses, you now have an option to Import License Keys Data…
To start you need to generate a report from my.vmware.com.
Log in and Navigate to Download Reports
Click on the Available Reports dropdown, and select the Product Licenses, Details and History.</div></div><div class=card-footer>Tagged <a href=/tags/vsphere-6.5>vSphere 6.5</a> and <a href=/tags/myvmware>MyVMware</a></div></div></div><div class=clr-col-12><div class=card><div class=card-header><a href=https://davidstamen.com/2016/04/21/using-powercli-to-get-and-set-dvs-traffic-shaping-settings/>Using PowerCLI to Get and Set DVS Traffic Shaping Settings</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors>Published on
April 21, 2016 under <a href=/categories/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:100px;min-height:100px;overflow:hidden><img src=/featured/powercli.png class=clr-card-featured-image>
I have been in process in configuring traffic shaping for multiple port groups. It seems with PowerCLI 6.3 R1 there are no native Powershell Cmdlets. Luckily I stumbled across @Lucd and his PowerCLI functions to manage these settings, i have put these into a script to mass get and set the settings for all port groups of a DVS’s.
Pre-Requsites VMware PowerCLI Link to Script Get-VMwareTrafficShapingSettings.</div></div><div class=card-footer>Tagged <a href=/tags/powercli>PowerCLI</a> and <a href=/tags/networking>Networking</a></div></div></div><div class=clr-col-12><div class=card><div class=card-header><a href=https://davidstamen.com/2016/04/08/troubleshooting-cisco-enic-and-fnic-drivers-with-vmware-update-manager-6x/>Troubleshooting Cisco ENIC and FNIC Drivers with VMware Update Manager 6.x</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors>Published on
April 8, 2016 under <a href=/categories/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:100px;min-height:100px;overflow:hidden>I have been having issues ever since I updated to vSphere 6.x getting the Cisco Drivers to properly update through VMware Update Manager(VUM). Every time I would run through a compliance check, they would always report they were up to date even when they were running an older version.
I have recently made a breakthrough working with VMware Support and stumbling through some old blogs. Cisco Support has been terrible on this issue and after repeated attempts to get this case escalated i think the 10th time is a charm.</div></div><div class=card-footer>Tagged <a href=/tags/cisco-ucs>Cisco UCS</a> and <a href=/tags/update-manager>Update Manager</a></div></div></div><div class=clr-col-12><div class=card><div class=card-header><a href=https://davidstamen.com/2016/03/03/using-powercli-to-install-host-vibs/>Using PowerCLI to Install Host VIBs</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors>Published on
March 3, 2016 under <a href=/categories/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:100px;min-height:100px;overflow:hidden><img src=/featured/powercli.png class=clr-card-featured-image>
So currently Cisco has an issue with installing their ENIC and FNIC VIBs through Update Manager for ESXi 6.x. Until that is resolved I need to manually push out patches to these hosts. Obviously I do not want to do this manually, so I will be utilizing PowerCLI to accomplish this task.
Pre-Requsites VMware PowerCLI Link to Script Install-HostVIB.ps1 Preparing to Execute the Script The script is pretty straight forward, just need to define a few variables seen below and then you execute the script.</div></div><div class=card-footer>Tagged <a href=/tags/powercli>PowerCLI</a> and <a href=/tags/esxi>ESXi</a></div></div></div></div><nav><ul class=pagination><li class="pagination__item pagination__item--first"><a class="btn btn-sm btn btn-outline" href=/categories/vmware/>1</a></li><li class="pagination__item pagination__item--previous"><a href=/categories/vmware/page/6/ class="btn btn-sm btn btn-outline">...</a></li><li class=pagination__item><a href=/categories/vmware/page/5/ class="btn btn-sm btn btn-outline">5</a></li><li class=pagination__item><a href=/categories/vmware/page/6/ class="btn btn-sm btn btn-outline">6</a></li><li class="pagination__item pagination__item--current"><a href=/categories/vmware/page/7/ class="btn btn-sm btn btn-primary">7</a></li><li class=pagination__item><a href=/categories/vmware/page/8/ class="btn btn-sm btn btn-outline">8</a></li><li class=pagination__item><a href=/categories/vmware/page/9/ class="btn btn-sm btn btn-outline">9</a></li><li class="pagination__item pagination__item--next"><a href=/categories/vmware/page/8/ class="btn btn-sm btn-outline">...</a></li><li class="pagination__item pagination__item--last"><a class="btn btn-sm btn btn-outline" href=/categories/vmware/page/12/>12</a></li></ul></nav></div><nav class="sidenav clr-col-2 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6"><section class=sidenav-content><div class=card><div class=card-block><div class=card-text id=site-intro><img src=/images/me2-300.png><p>a blog about virtualization, storage and stuff<ul class=nav-list-inline><a href=//github.com/dstamen target=_blank rel=noopener title=GitHub class="fab fa-github"></a><a href=//linkedin.com/in/davidstamen target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a><a href=//twitter.com/davidstamen target=_blank rel=noopener title=Twitter class="fab fa-twitter"></a><a href=mailto:dstamen@gmail.com target=_blank title=Email class="fas fa-envelope"></a><a href=/categories/vmware/index.xml type=application/rss+xml target=_blank title=RSS class="fas fa-rss"></a></ul></div></div></div><div class=card><div class=card-header><b>Latest Posts</b></div><div class=card-block><div class=card-text><ul class=list style=list-style-type:square;list-style-position:inherit><li><a class=nav-list href=https://davidstamen.com/2020/06/29/using-terraform-to-deploy-the-vmware-event-broker-appliance/>Using Terraform to Deploy the VMware Event Broker Appliance</a></li><li><a class=nav-list href=https://davidstamen.com/2020/06/29/using-terraform-to-deploy-the-vmware-nested-esxi-appliance/>Using Terraform to Deploy the VMware Nested ESXi Appliance</a></li><li><a class=nav-list href=https://davidstamen.com/2020/06/26/using-terraform-to-deploy-the-site-recovery-manager-8.3-appliance/>Using Terraform to Deploy the Site Recovery Manager 8.3 Appliance</a></li><li><a class=nav-list href=https://davidstamen.com/using-veba-to-expand-pure-datastore/>Using the VMware Event Broker Appliance to Automatically Expand a Pure Storage FlashArray Datastore</a></li><li><a class=nav-list href=https://davidstamen.com/2020/06/22/updating-the-vcenter-server-appliance-vcsa-with-powercli-revisited/>Updating the vCenter Server Appliance (VCSA) with PowerCLI - Revisited</a></li><li><a class=nav-list href=https://davidstamen.com/2020/06/05/configuring-vrealize-orchestrator-to-use-pure1-integration/>Configuring vRealize Orchestrator to use Pure1 Integration</a></li><li><a class=nav-list href=https://davidstamen.com/2020/06/02/unable-to-provision-a-vvol-hard-disk-on-a-vm-located-on-vmfs-datastore/>Unable to Provision a vVol Hard Disk on a VM Located on VMFS Datastore</a></li><li><a class=nav-list href=https://davidstamen.com/updating-vk8s-supervisor-cluster/>Updating a vSphere with Kubernetes Supervisor Cluster</a></li><li><a class=nav-list href=https://davidstamen.com/2020/05/26/whats-new-in-the-4.3.1-pure-storage-vsphere-client-plugin/>What's New in the 4.3.1 Pure Storage vSphere Client Plugin</a></li><li><a class=nav-list href=https://davidstamen.com/deploying-tkc-on-vk8s-using-tkgcli/>Deploying Tanzu Kubernetes Clusters (TKC) on vSphere with Kubernetes using the TKG CLI</a></li></ul></div></div></div><div class=card><div class=card-header><b>Advertisements</b></div><div class=card-block><div class=card-text align=center><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:inline-block;width:180px;height:150px data-ad-client=ca-pub-6907288179836979 data-ad-slot=6070718289></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div></div></section></nav></div></div></body></html>