<!doctype html><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]--><!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if IE 8]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class=no-js><!--<![endif]--><head><meta charset=utf-8><title>PowerCLI &#183; davidstamen.com</title><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta property="og:type" content="website"><link rel=canonical href=https://davidstamen.com/tags/powercli/><link rel=apple-touch-icon-precomposed sizes=144x144 href=/touch-icon-144-precomposed.png><link rel=icon href=/favicon/favicon.ico><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6907288179836979",enable_page_level_ads:true});</script><!--[if lt IE 9]><script src=https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js></script><script src=https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js></script><![endif]--><script src=/js/clr-3.0/clr-icons.min.js></script><script src=/js/clr-3.0/custom-elements.min.js></script><link href=/css/clr-3.0/clr-ui.css rel=stylesheet><link href=/css/clr-3.0/clr-icons.min.css rel=stylesheet><link href=/css/custom.css rel=stylesheet><link rel=stylesheet href=/css/all.css></head><body data-ng-app=myapp data-ng-controller=MyController data-ng-mouseleave=MouseLeave($event)><div class=main-container><header class=header-2><div class=branding><a class=navbar-brand-img href=/><img alt src>
<span class=title>davidstamen.com</span></a></div><div class=header-nav [clr-nav-level]=1><a class="nav-link nav-text" href=https://davidstamen.com/ title=Home>Home</a>
<a class="nav-link nav-text" href=https://davidstamen.com/categories/pure-storage/ title="Pure Storage">Pure Storage</a>
<a class="nav-link nav-text" href=https://davidstamen.com/categories/vmware/ title=VMware>VMware</a>
<a class="nav-link nav-text" href=https://davidstamen.com/tags/ title=Tags>Tags</a>
<a class="nav-link nav-text" href=https://davidstamen.com/series/ title=Series>Series</a>
<a class="nav-link nav-text" href=https://www.youracclaim.com/users/davidstamen title=Acclaim>Acclaim</a>
<a class="nav-link nav-text" href=https://davidstamen.com/about title=About>About</a></div><div class=header-actions><form class=search id=search method=get action=//google.com/search><label for=search_input><input id=search_input type=text name=q placeholder=Search>
<input type=hidden name=as_sitesearch value=davidstamen.com></label></form></div></header><div class=content-container><div class=content-area><h1>PowerCLI</h1><div class=clr-row><div class=clr-col-12><div class=card><div class=card-header><a href=https://davidstamen.com/2014/06/10/configuring-esxi-5-5-syslog-collector/>Configuring ESXi 5.5 Syslog Collector</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors>Published on
June 10, 2014 under <a href=/categories/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:100px;min-height:100px;overflow:hidden><img src=/featured/powercli.png class=clr-card-featured-image>
Thank you to everyone who listened to me on the EMEA vBrownbag. Here are copies of documentation and scripts on how to configure ESXi to use the Syslog collector.
Check the ESXi Syslog Collector Configuration Example: Foreach ($vmhost in (get-vmhost)){ $esxcli = Get-EsxCli -vmhost $vmhost $esxcli.system.syslog.config.get()} Setting the ESXi Syslog Collector Example: Foreach ($vmhost in (get-vmhost)){ $esxcli = Get-EsxCli -vmhost $vmhost $esxcli.system.syslog.config.set($null, $null, $null, $null,"udp://IPtoSyslogServer:514″) $esxcli.system.syslog.reload()} Post-Installation Changes If you wish to change the default port or maxsize of the syslog rotation, these can be changed by modifying the vmconfig-syslog.</div></div><div class=card-footer>Tagged <a href=/tags/powercli>PowerCLI</a> and <a href=/tags/syslog>Syslog</a></div></div></div><div class=clr-col-12><div class=card><div class=card-header><a href=https://davidstamen.com/2014/05/22/create-vmfs-datastore-using-powercli/>Create VMFS Datastore Using PowerCLI</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors>Published on
May 22, 2014 under <a href=/categories/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:100px;min-height:100px;overflow:hidden><img src=/featured/powercli.png class=clr-card-featured-image>
For upcoming testing there was a need to create 140 datastores on a cluster for testing. Who wants to do that much clicking and typing? Not me! You can use the below PowerCLI commands to get the SCSI ID’s, Create the Datastore and then Rescan all hosts in the cluster.
How do i get the CanonicalName for allocated disks? Get-SCSILun -VMhost 192.168.1.103 -LunType Disk | Select CanonicalName,Capacity How do I create a VMFS datastore for the CanonicalName I identified above?</div></div><div class=card-footer>Tagged <a href=/tags/powercli>PowerCLI</a> and <a href=/tags/storage>Storage</a></div></div></div><div class=clr-col-12><div class=card><div class=card-header><a href=https://davidstamen.com/2014/05/06/get-naa-id-for-virtual-machine-rdms-in-vmware/>Get NAA.ID for Virtual Machine RDM's in VMware</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors>Published on
May 6, 2014 under <a href=/categories/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:100px;min-height:100px;overflow:hidden><img src=/featured/powercli.png class=clr-card-featured-image>
This is a great script to keep handy. If you have multiple RDM’s on a VM and need to get the NAA_ID for them the below PowerCLI command will get you that information.
Get-VM VMNAME| Get-HardDisk -DiskType "RawPhysical","RawVirtual" | Select Parent,Name,DiskType,ScsiCanonicalName,DeviceName,CapacityGB | fl If you then need to match the SCSI virtual disk to the Guest OS this is a great article on how to do so.
KB2051606</div></div><div class=card-footer>Tagged <a href=/tags/powercli>PowerCLI</a> and <a href=/tags/storage>Storage</a></div></div></div></div><nav><ul class=pagination><li class="pagination__item pagination__item--first"><a class="btn btn-sm btn btn-outline" href=/tags/powercli/>1</a></li><li class="pagination__item pagination__item--previous"><a href=/tags/powercli/page/2/ class="btn btn-sm btn btn-outline">...</a></li><li class=pagination__item><a href=/tags/powercli/ class="btn btn-sm btn btn-outline">1</a></li><li class=pagination__item><a href=/tags/powercli/page/2/ class="btn btn-sm btn btn-outline">2</a></li><li class="pagination__item pagination__item--current"><a href=/tags/powercli/page/3/ class="btn btn-sm btn btn-primary">3</a></li></ul></nav></div><nav class="sidenav clr-col-2 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6"><section class=sidenav-content><div class=card><div class=card-block><div class=card-text id=site-intro><img src=/images/me2-300.png><p>a blog about virtualization, storage and stuff<ul class=nav-list-inline><a href=//github.com/dstamen target=_blank rel=noopener title=GitHub class="fab fa-github"></a><a href=//linkedin.com/in/davidstamen target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a><a href=//twitter.com/davidstamen target=_blank rel=noopener title=Twitter class="fab fa-twitter"></a><a href=mailto:dstamen@gmail.com target=_blank title=Email class="fas fa-envelope"></a><a href=/tags/powercli/index.xml type=application/rss+xml target=_blank title=RSS class="fas fa-rss"></a></ul></div></div></div><div class=card><div class=card-header><b>Latest Posts</b></div><div class=card-block><div class=card-text><ul class=list style=list-style-type:square;list-style-position:inherit><li><a class=nav-list href=https://davidstamen.com/2020/05/26/whats-new-in-the-4.3.1-pure-storage-vsphere-client-plugin/>What's New in the 4.3.1 Pure Storage vSphere Client Plugin</a></li><li><a class=nav-list href=https://davidstamen.com/deploying-tkc-on-vk8s-using-tkgcli/>Deploying Tanzu Kubernetes Clusters (TKC) on vSphere with Kubernetes using the TKG CLI</a></li><li><a class=nav-list href=https://davidstamen.com/running-vvol-on-vmc-on-cbs/>Running vVols in VMware Cloud on AWS (VMC) on Pure Storage Cloud Block Store (CBS) on AWS</a></li><li><a class=nav-list href=https://davidstamen.com/deploying-tkg-on-vmc/>Deploying Tanzu Kubernetes Grid (TKG) on VMware Cloud on AWS (VMC)</a></li><li><a class=nav-list href=https://davidstamen.com/deploying-tkg-on-vsphere/>Deploying Tanzu Kubernetes Grid (TKG) on vSphere</a></li><li><a class=nav-list href=https://davidstamen.com/2020/04/24/whats-new-in-the-pure-storage-vrealize-operations-management-pack-3.0/>What's New in the Pure Storage vRealize Operations Management Pack 3.0</a></li><li><a class=nav-list href=https://davidstamen.com/2020/04/21/whats-new-in-the-4.3.0-pure-storage-vsphere-client-plugin/>What's New in the 4.3.0 Pure Storage vSphere Client Plugin</a></li><li><a class=nav-list href=https://davidstamen.com/2020/04/16/using-powercli-to-deploy-the-site-recovery-manager-8.3-appliance/>Using PowerCLI to Deploy the Site Recovery Manager 8.3 Appliance</a></li><li><a class=nav-list href=https://davidstamen.com/2020/04/13/part-6-deploying-vsphere-with-kubernetes-provisioning-and-managing-a-tanzu-kubernetes-cluster/>Part 6: Deploying vSphere with Kubernetes - Provisioning and Managing a Tanzu Kubernetes Cluster</a></li><li><a class=nav-list href=https://davidstamen.com/2020/04/10/part-5-deploying-vsphere-with-kubernetes-using-vsphere-with-kubernetes/>Part 5: Deploying vSphere with Kubernetes - Using vSphere with Kubernetes</a></li></ul></div></div></div><div class=card><div class=card-header><b>Advertisements</b></div><div class=card-block><div class=card-text align=center><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:inline-block;width:180px;height:150px data-ad-client=ca-pub-6907288179836979 data-ad-slot=6070718289></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div></div></section></nav></div></div></body></html>