<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ESXi on davidstamen</title><link>https://davidstamen.com/tags/esxi/</link><description>Recent content in ESXi on davidstamen</description><generator>Hugo</generator><language>en</language><copyright>Copyright © 2008–2018, Steve Francia and the Hugo Authors; all rights reserved.</copyright><lastBuildDate>Mon, 29 Jun 2020 08:30:00 +0000</lastBuildDate><atom:link href="https://davidstamen.com/tags/esxi/index.xml" rel="self" type="application/rss+xml"/><item><title>Using Terraform to Deploy the VMware Nested ESXi Appliance</title><link>https://davidstamen.com/2020/06/29/using-terraform-to-deploy-the-vmware-nested-esxi-appliance/</link><pubDate>Mon, 29 Jun 2020 08:30:00 +0000</pubDate><guid>https://davidstamen.com/2020/06/29/using-terraform-to-deploy-the-vmware-nested-esxi-appliance/</guid><description>&lt;p&gt;With the addition of OVF/OVA customized properties in Terraform, I figured I would put together a few runbooks for appliances to deploy. This post will cover the details deploy the Nested ESXi Appliance.&lt;/p&gt;</description></item><item><title>Unable to Provision a vVol Hard Disk on a VM Located on VMFS Datastore</title><link>https://davidstamen.com/2020/06/02/unable-to-provision-a-vvol-hard-disk-on-a-vm-located-on-vmfs-datastore/</link><pubDate>Tue, 02 Jun 2020 08:00:00 +0000</pubDate><guid>https://davidstamen.com/2020/06/02/unable-to-provision-a-vvol-hard-disk-on-a-vm-located-on-vmfs-datastore/</guid><description>&lt;p&gt;An interesting issue came in from one of our customers that they were unable to provision a new vVol Disk on a VM that was based on a VMFS Datastore. After some troubleshooting it seems there was a regression which no longer makes this available in the UI. Take a look at this blog post on how I will cover a workaround.&lt;/p&gt;</description></item><item><title>Considerations for vSphere Component Backup and Restore: Part 2</title><link>https://davidstamen.com/2019/10/23/considerations-for-vsphere-component-backup-and-restore-part-2/</link><pubDate>Wed, 23 Oct 2019 00:00:00 +0000</pubDate><guid>https://davidstamen.com/2019/10/23/considerations-for-vsphere-component-backup-and-restore-part-2/</guid><description>&lt;p&gt;Now that we have covered the considerations to backup each component in your vSphere Environment, it&amp;rsquo;s time to think about the rollback or restore process. In the previous post we discussed how to backup each individual component, in this post we will continue the conversation and discuss considerations to restore or rollback your vSphere Environment components.&lt;/p&gt;
&lt;h2 id="platform-services-controller--vcenter-server"&gt;Platform Services Controller / vCenter Server&lt;/h2&gt;
&lt;p&gt;When things don&amp;rsquo;t go right with an update, upgrade or configuration change of your Platform Services Controller or vCenter Server you need to understand the proper steps it takes to rollback. In these scenarios sometimes there may have been a failure in the process, or after a successful upgrade was completed, an incompatibility was found which would result in a rollback. A reason we see the need to rollback a vCenter Server is when a supporting solution such as a backup vendor or monitoring vendor is not compatible. In this case you will need to revert to the previous version.&lt;/p&gt;</description></item><item><title>Considerations for vSphere Component Backup and Restore: Part 1</title><link>https://davidstamen.com/2019/10/21/considerations-for-vsphere-component-backup-and-restore-part-1/</link><pubDate>Mon, 21 Oct 2019 00:00:00 +0000</pubDate><guid>https://davidstamen.com/2019/10/21/considerations-for-vsphere-component-backup-and-restore-part-1/</guid><description>&lt;p&gt;You spend time planning and implementing updates, upgrades and configuration changes to vSphere Environments. Rollback or recovery is usually the last thing on the mind. Did you know there are multiple ways to successfully backup each component in a vSphere Environment? There are also many ways to recover those same components.&lt;/p&gt;
&lt;p&gt;In this series we will talk about considerations to backup and restore or rollback your vSphere environment if we have a need to.&lt;/p&gt;</description></item><item><title>Using PowerCLI to Install Host VIBs</title><link>https://davidstamen.com/2016/03/03/using-powercli-to-install-host-vibs/</link><pubDate>Thu, 03 Mar 2016 00:00:00 +0000</pubDate><guid>https://davidstamen.com/2016/03/03/using-powercli-to-install-host-vibs/</guid><description>&lt;p&gt;So currently Cisco has an issue with installing their ENIC and FNIC VIBs through Update Manager for ESXi 6.x. Until that is resolved I need to manually push out patches to these hosts. Obviously I do not want to do this manually, so I will be utilizing PowerCLI to accomplish this task.&lt;/p&gt;
&lt;h4 id="pre-requsites"&gt;&lt;em&gt;&lt;strong&gt;Pre-Requsites&lt;/strong&gt;&lt;/em&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.vmware.com/support/developer/PowerCLI/"&gt;VMware PowerCLI&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="link-to-script"&gt;&lt;em&gt;&lt;strong&gt;Link to Script&lt;/strong&gt;&lt;/em&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/dstamen/PowerCLI/blob/master/Install-HostVIB.ps1"&gt;Install-HostVIB.ps1&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="preparing-to-execute-the-script"&gt;&lt;em&gt;&lt;strong&gt;Preparing to Execute the Script&lt;/strong&gt;&lt;/em&gt;&lt;/h4&gt;
&lt;p&gt;The script is pretty straight forward, just need to define a few variables seen below and then you execute the script. I will walk you through the process.&lt;/p&gt;</description></item><item><title>Installing Host VIB's Using PowerCLI</title><link>https://davidstamen.com/2015/11/30/installing-host-vibs-using-powercli/</link><pubDate>Mon, 30 Nov 2015 00:00:00 +0000</pubDate><guid>https://davidstamen.com/2015/11/30/installing-host-vibs-using-powercli/</guid><description>&lt;p&gt;Normally when i need to install and update a host VIB I use Update Manager. However there is currently a &lt;a href="https://tools.cisco.com/bugsearch/bug/CSCuw47512/"&gt;bug&lt;/a&gt; with Cisco&amp;rsquo;s latest enic/fnic drivers that wont let you install them via UM.&lt;/p&gt;
&lt;p&gt;I had to run these updates on over 50 hosts and I really didn&amp;rsquo;t want to have to ssh and install it manually. Lucky I remember &lt;a href="http://www.vtagion.com/automate-install-embedded-host-client-esxi-fling-hosts-cluster/"&gt;Brian Graf&amp;rsquo;s Host Client Install Fling&lt;/a&gt; and borrowed some of the code to come up with the below script.&lt;/p&gt;</description></item></channel></rss>